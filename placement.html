<!DOCTYPE html>
<html>
<head>
    <title>placement sur scene</title>
    <style>
        .pyramid {
            text-align: center;
            margin-top: 20px;
        }
        .row {
            display: flex;
            justify-content: center;
        }
        .cell {
            border: 1px solid rgb(181, 112, 245);
            padding: 5px 10px;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div class="pyramid" id="pyramid"></div>

    <script>
       let data;

       async function fetchData() {
          try {
            const response = await fetch('http://localhost:5000/api/concert/ajoutplacement/65a9653c8bb8d224dbc4389d', {
              method: 'GET',
              headers: {
                'Content-Type': 'application/json',
              },
            });
            if (!response.ok) {
              throw new Error(`HTTP error! Status: ${response.status}`);
            }
            data = await response.json();
            createPyramid(data.reponse);
            console.log(data.reponse);
          } catch (error) {
            console.error('Error fetching data:', error);
          }
        }

        function createPyramid(data) {
    const pyramidDiv = document.getElementById('pyramid');
    let rows = '';
    let rowNumber = 1;
    let currentRow = '';

    data.forEach((array, index) => {
        array.forEach((item) => {
            currentRow += `<div class="cell">`;
            Object.entries(item).forEach(([key, value]) => {
                currentRow += `${key}: ${value}<br>`;
            });
            currentRow += `</div>`;
        });
        rows += `<div class="row" style="margin-left: ${rowNumber * 10}px">${currentRow}</div>`;
        currentRow = '';
        rowNumber++;
    });
    pyramidDiv.innerHTML = rows;
}
        window.onload = () => {
            fetchData();
        };
    </script>
</body>

</html>
